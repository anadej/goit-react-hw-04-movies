{"version":3,"sources":["services/api.js","pages/HomePageStyled.js","pages/HomePage.js"],"names":["base_URL","API_KEY","fetchTrendingToday","a","axios","get","then","res","data","results","console","log","fetchDetailsMovie","movieId","fetchSearchMovie","query","fetchMovieCredits","fetchMoviesDetails","HomePageStyled","styled","div","HomePage","state","trendingMovies","response","this","setState","poster_path","className","map","movie","to","pathname","id","from","props","location","src","alt","title","React","Component","withRouter"],"mappings":"+UAEMA,EAAW,+BAEXC,EAAU,mCAEHC,EAAkB,uCAAG,sBAAAC,EAAA,+EAEjBC,IACVC,IAAIL,EAAQ,+BAAoCC,GAChDK,MAAK,SAACC,GAAD,OAASA,EAAIC,KAAKC,WAJI,wEAM9BC,QAAQC,IAAR,cAN8B,wDAAH,qDAUlBC,EAAiB,uCAAG,WAAOC,GAAP,SAAAV,EAAA,+EAEhBC,IACVC,IAAIL,EAAQ,UAAea,EAAvB,YAA+CZ,GACnDK,MAAK,SAACC,GAAD,OAASA,EAAIC,QAJQ,wEAM7BE,QAAQC,IAAR,cAN6B,wDAAH,sDAUjBG,EAAgB,uCAAG,WAAOC,GAAP,SAAAZ,EAAA,+EAEfC,IACVC,IAAIL,EAAQ,yBAA8BC,EAAtC,UAA4Dc,GAChET,MAAK,SAACC,GAAD,OAASA,EAAIC,KAAKC,WAJE,wEAM5BC,QAAQC,IAAR,cAN4B,wDAAH,sDAUhBK,EAAiB,uCAAG,WAAOH,GAAP,SAAAV,EAAA,+EAEhBC,IACVC,IAAIL,EAAQ,UAAea,EAAvB,oBAAuDZ,GAC3DK,MAAK,SAACC,GAAD,OAASA,EAAIC,QAJQ,wEAM7BE,QAAQC,IAAR,cAN6B,wDAAH,sDAUjBM,EAAkB,uCAAG,WAAOJ,GAAP,SAAAV,EAAA,+EAEjBC,IACVC,IACCL,EAAQ,UAENa,EAFF,oBAIEZ,EAJF,WAODK,MAAK,SAACC,GAAD,OAASA,EAAIC,QAXS,wEAa9BE,QAAQC,IAAR,cAb8B,wDAAH,uD,4JC5ClBO,E,MAAiBC,EAAOC,IAAV,2hB,OCIrBC,E,4MACJC,MAAQ,CACNC,eAAgB,I,8FAGlB,4BAAApB,EAAA,+EAE2BD,cAF3B,OAEUsB,EAFV,OAGIC,KAAKC,SAAS,CAAEH,eAAe,YAAKC,KAHxC,gDAKId,QAAQC,IAAR,cALJ,yD,0EASA,WAAU,IAAD,OACCY,EAAmBE,KAAKH,MAAxBC,eAER,OADAb,QAAQC,IAAR,SAAsBY,EAAeI,aAEnC,eAACT,EAAD,WACE,oBAAIU,UAAU,iBAAd,4BACA,oBAAIA,UAAU,gBAAd,SACGL,EAAeM,KAAI,SAACC,GAAD,OAClB,oBAAIF,UAAU,gBAAd,SACE,cAAC,IAAD,CACEA,UAAU,gBACVG,GAAI,CACFC,SAAS,WAAD,OAAaF,EAAMG,IAC3BX,MAAO,CAAEY,KAAM,EAAKC,MAAMC,SAASJ,WAJvC,SAOE,qBACEJ,UAAU,iBACVS,IAAG,6CAAwCP,EAAMH,aACjDW,IAAKR,EAAMS,WAXkBT,EAAMG,gB,GAtB9BO,IAAMC,WA4CdC,sBAAWrB","file":"static/js/home-trend-movies.caf69a47.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst base_URL = \"https://api.themoviedb.org/3\";\r\n\r\nconst API_KEY = \"afd2c986c5adb63f9553e5d223b5cb34\";\r\n\r\nexport const fetchTrendingToday = async () => {\r\n  try {\r\n    return await axios\r\n      .get(base_URL + `/trending/movie/day?api_key=` + API_KEY)\r\n      .then((res) => res.data.results);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\nexport const fetchDetailsMovie = async (movieId) => {\r\n  try {\r\n    return await axios\r\n      .get(base_URL + `/movie/` + movieId + `?api_key=` + API_KEY)\r\n      .then((res) => res.data);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\nexport const fetchSearchMovie = async (query) => {\r\n  try {\r\n    return await axios\r\n      .get(base_URL + `/search/movie?api_key=` + API_KEY + `&query=` + query)\r\n      .then((res) => res.data.results);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\nexport const fetchMovieCredits = async (movieId) => {\r\n  try {\r\n    return await axios\r\n      .get(base_URL + `/movie/` + movieId + `/credits?api_key=` + API_KEY)\r\n      .then((res) => res.data);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\nexport const fetchMoviesDetails = async (movieId) => {\r\n  try {\r\n    return await axios\r\n      .get(\r\n        base_URL +\r\n          `/movie/` +\r\n          movieId +\r\n          `/reviews?api_key=` +\r\n          API_KEY +\r\n          `&page=1`\r\n      )\r\n      .then((res) => res.data);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=<<api_key>>&page=1\r\n","import styled from \"styled-components\";\r\n\r\nexport const HomePageStyled = styled.div`\r\n  padding: 20px;\r\n\r\n  .homeTrendTitle {\r\n    margin-bottom: 20px;\r\n    color: cornflowerblue;\r\n    text-transform: uppercase;\r\n  }\r\n\r\n  .homeTrendList {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-left: -5px;\r\n    margin-top: -5px;\r\n  }\r\n\r\n  .homeTrendItem {\r\n    margin-left: 5px;\r\n    margin-top: 5px;\r\n    flex-basis: calc((100% - 25px) / 5);\r\n    text-align: center;\r\n  }\r\n\r\n  .homeTrendImage {\r\n    width: 100%;\r\n\r\n    &:hover {\r\n      transform: scale(1.03);\r\n      cursor: cursor;\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchTrendingToday } from \"../services/api\";\r\nimport { HomePageStyled } from \"./HomePageStyled\";\r\n\r\nclass HomePage extends React.Component {\r\n  state = {\r\n    trendingMovies: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const response = await fetchTrendingToday();\r\n      this.setState({ trendingMovies: [...response] });\r\n    } catch (error) {\r\n      console.log(`error`, error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { trendingMovies } = this.state;\r\n    console.log(`object`, trendingMovies.poster_path);\r\n    return (\r\n      <HomePageStyled>\r\n        <h2 className=\"homeTrendTitle\">Trending today</h2>\r\n        <ul className=\"homeTrendList\">\r\n          {trendingMovies.map((movie) => (\r\n            <li className=\"homeTrendItem\" key={movie.id}>\r\n              <Link\r\n                className=\"homeTrendLink\"\r\n                to={{\r\n                  pathname: `/movies/${movie.id}`, //куда перейти по клику\r\n                  state: { from: this.props.location.pathname }, //передаем откуда переходим\r\n                }}\r\n              >\r\n                <img\r\n                  className=\"homeTrendImage\"\r\n                  src={`https://www.themoviedb.org/t/p/w300${movie.poster_path}`}\r\n                  alt={movie.title}\r\n                />\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </HomePageStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(HomePage);\r\n"],"sourceRoot":""}