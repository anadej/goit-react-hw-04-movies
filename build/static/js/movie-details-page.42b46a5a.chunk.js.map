{"version":3,"sources":["services/api.js","components/movieCast/CastStyled.js","images/no_image.png","components/movieCast/Cast.js","components/movieReview/ReviewStyled.js","components/movieReview/Review.js","pages/MovieDetailsPageStyled.js","pages/MovieDetailsPage.js"],"names":["base_URL","API_KEY","fetchTrendingToday","a","axios","get","then","res","data","results","console","log","fetchDetailsMovie","movieId","fetchSearchMovie","query","fetchMovieCredits","fetchMoviesDetails","CastStyled","styled","div","Cast","state","movieCast","isLoading","this","props","response","setState","cast","className","map","src","profile_path","deffImg","alt","original_name","character","id","Component","ReviewsStyled","Review","movieReviews","length","review","author","content","MovieDetailsPageStyled","MovieDetailsPage","goBack","location","history","push","from","match","params","title","poster_path","release_date","vote_average","overview","genres","type","onClick","slice","genre","name","to","pathname","fallback","color","height","width","path","render","React"],"mappings":"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","file":"static/js/movie-details-page.42b46a5a.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst base_URL = \"https://api.themoviedb.org/3\";\r\n\r\nconst API_KEY = \"afd2c986c5adb63f9553e5d223b5cb34\";\r\n\r\nexport const fetchTrendingToday = async () => {\r\n  try {\r\n    return await axios\r\n      .get(base_URL + `/trending/movie/day?api_key=` + API_KEY)\r\n      .then((res) => res.data.results);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\nexport const fetchDetailsMovie = async (movieId) => {\r\n  try {\r\n    return await axios\r\n      .get(base_URL + `/movie/` + movieId + `?api_key=` + API_KEY)\r\n      .then((res) => res.data);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\nexport const fetchSearchMovie = async (query) => {\r\n  try {\r\n    return await axios\r\n      .get(base_URL + `/search/movie?api_key=` + API_KEY + `&query=` + query)\r\n      .then((res) => res.data.results);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\nexport const fetchMovieCredits = async (movieId) => {\r\n  try {\r\n    return await axios\r\n      .get(base_URL + `/movie/` + movieId + `/credits?api_key=` + API_KEY)\r\n      .then((res) => res.data);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\nexport const fetchMoviesDetails = async (movieId) => {\r\n  try {\r\n    return await axios\r\n      .get(\r\n        base_URL +\r\n          `/movie/` +\r\n          movieId +\r\n          `/reviews?api_key=` +\r\n          API_KEY +\r\n          `&page=1`\r\n      )\r\n      .then((res) => res.data);\r\n  } catch (error) {\r\n    console.log(`error`, error);\r\n  }\r\n};\r\n\r\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=<<api_key>>&page=1\r\n","import styled from \"styled-components\";\r\n\r\nexport const CastStyled = styled.div`\r\n  padding: 20px;\r\n\r\n  .movieCastList {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-left: -5px;\r\n    margin-top: -5px;\r\n  }\r\n\r\n  .movieCastItem {\r\n    margin-left: 5px;\r\n    margin-top: 5px;\r\n    flex-basis: calc((100% - 30px) / 6);\r\n    border: 1px solid grey;\r\n    text-align: center;\r\n  }\r\n\r\n  .movieCastImage {\r\n    width: 100%;\r\n  }\r\n\r\n  .movieCastName {\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .movieCastCharacter {\r\n    font-size: 14px;\r\n  }\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/no_image.1d3abbb6.png\";","import React, { Component } from \"react\";\r\nimport { fetchMovieCredits } from \"../../services/api\";\r\nimport { CastStyled } from \"./CastStyled\";\r\nimport deffImg from \"../../images/no_image.png\";\r\n\r\nclass Cast extends Component {\r\n  state = {\r\n    movieCast: [],\r\n    isLoading: false,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const response = await fetchMovieCredits(this.props.movieId);\r\n      this.setState({ movieCast: [...response.cast] });\r\n    } catch (error) {\r\n      console.log(`error`, error);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { movieCast } = this.state;\r\n\r\n    return (\r\n      <CastStyled>\r\n        <ul className=\"movieCastList\">\r\n          {movieCast.map((cast) => (\r\n            <li className=\"movieCastItem\" key={cast.id}>\r\n              <img\r\n                className=\"movieCastImage\"\r\n                src={\r\n                  cast.profile_path\r\n                    ? `https://www.themoviedb.org/t/p/w300${cast.profile_path}`\r\n                    : deffImg\r\n                }\r\n                alt={cast.original_name}\r\n              />\r\n              <p className=\"movieCastName\">{cast.original_name}</p>\r\n              <p className=\"movieCastCharacter\">{cast.character}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </CastStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cast;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ReviewsStyled = styled.div`\r\n  padding: 20px;\r\n\r\n  .movieReviewItem {\r\n    padding: 10px;\r\n    margin-bottom: 10px;\r\n    border: 1px solid grey;\r\n  }\r\n\r\n  .movieReviewTitle {\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n","import React, { Component } from \"react\";\r\nimport { fetchMoviesDetails } from \"../../services/api\";\r\nimport { ReviewsStyled } from \"./ReviewStyled\";\r\n\r\nclass Review extends Component {\r\n  state = {\r\n    movieReviews: [],\r\n    isLoading: false,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const response = await fetchMoviesDetails(this.props.movieId);\r\n      this.setState({ movieReviews: [...response.results] });\r\n      console.log(`this.state`, this.state.movieReviews);\r\n    } catch (error) {\r\n      console.log(`error`, error);\r\n    }\r\n  }\r\n  render() {\r\n    const { movieReviews } = this.state;\r\n\r\n    return (\r\n      <ReviewsStyled>\r\n        {movieReviews.length ? (\r\n          <ul className=\"movieReviewList\">\r\n            {movieReviews.map((review) => (\r\n              <li className=\"movieReviewItem\" key={review.id}>\r\n                <h3 className=\"movieReviewTitle\">Author: {review.author}</h3>\r\n                <p className=\"movieReviewText\">{review.content}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <p className=\"movieReviewText\">\r\n            We don't have any reviews for thi movie\r\n          </p>\r\n        )}\r\n      </ReviewsStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Review;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MovieDetailsPageStyled = styled.div`\r\n  .movieDetailsContainer {\r\n    display: flex;\r\n    border-bottom: 3px solid #819ff5;\r\n  }\r\n\r\n  .leftSide,\r\n  .rightSide {\r\n    padding: 20px;\r\n  }\r\n\r\n  .movieDetailsImage {\r\n    width: 250px;\r\n  }\r\n\r\n  .movieDetailsText {\r\n    margin-top: 20px;\r\n  }\r\n  .movieDetailsTitel {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .movieDetailsGenresList {\r\n    display: flex;\r\n    list-style: none;\r\n  }\r\n\r\n  .movieDetailsGenresItem {\r\n    margin-top: 20px;\r\n    margin-right: 20px;\r\n  }\r\n\r\n  .movieCastReviewsContainer {\r\n    padding: 20px;\r\n    border-bottom: 3px solid #819ff5;\r\n  }\r\n\r\n  .movieCastReviewsList {\r\n    display: flex;\r\n    text-decoration: none;\r\n    margin-top: 20px;\r\n    padding-left: 20px;\r\n  }\r\n\r\n  .movieCastReviewsItem {\r\n    a {\r\n      padding: 5px 10px;\r\n      border: 3px solid #3f51b5;\r\n      background-color: #3f51b5;\r\n      color: #fff;\r\n      text-decoration: none;\r\n    }\r\n    margin-left: 20px;\r\n  }\r\n\r\n  button {\r\n    margin-top: 20px;\r\n    margin-left: 20px;\r\n    padding: 8px 8px;\r\n    border-radius: 2px;\r\n    background-color: #3f51b5;\r\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    text-align: center;\r\n    display: inline-block;\r\n    color: #fff;\r\n    border: 0;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    min-width: 100px;\r\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n      0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  }\r\n\r\n  button:hover,\r\n  button:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import React, { Suspense } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Link, Route } from \"react-router-dom\";\r\nimport Cast from \"../components/movieCast/Cast\";\r\nimport Review from \"../components/movieReview/Review\";\r\nimport { fetchDetailsMovie } from \"../services/api\";\r\nimport { MovieDetailsPageStyled } from \"./MovieDetailsPageStyled\";\r\n\r\nclass MovieDetailsPage extends React.Component {\r\n  state = {};\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const response = await fetchDetailsMovie(this.props.match.params.id);\r\n      this.setState(response);\r\n    } catch (error) {\r\n      console.log(`error`, error);\r\n    }\r\n  }\r\n\r\n  goBack = () => {\r\n    const { location, history } = this.props;\r\n    history.push(location.state.from); //возвращаемся на страницу с которой пришли\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      title,\r\n      poster_path,\r\n      release_date = \"\",\r\n      vote_average,\r\n      overview,\r\n      genres = [],\r\n    } = this.state;\r\n    const { location, match } = this.props;\r\n\r\n    return (\r\n      <MovieDetailsPageStyled>\r\n        <button type=\"button\" onClick={this.goBack}>\r\n          Go back\r\n        </button>\r\n        <div className=\"movieDetailsContainer\">\r\n          <div className=\"leftSide\">\r\n            <img\r\n              className=\"movieDetailsImage\"\r\n              src={`https://www.themoviedb.org/t/p/w300${poster_path}`}\r\n              alt={title}\r\n            />\r\n          </div>\r\n          <div className=\"rightSide\">\r\n            <h2 className=\"movieDetailsName\">\r\n              {title} ({release_date.slice(0, 4)})\r\n            </h2>\r\n            <p className=\"movieDetailsText\">User Score: {vote_average * 10}%</p>\r\n            <h3 className=\"movieDetailsTitel\">Overview</h3>\r\n            <p className=\"movieDetailsText\">{overview}</p>\r\n            <h3 className=\"movieDetailsTitel\">Genres</h3>\r\n            <ul className=\"movieDetailsGenresList\">\r\n              {genres.map((genre) => (\r\n                <li className=\"movieDetailsGenresItem\" key={genre.id}>\r\n                  {genre.name}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"movieCastReviewsContainer\">\r\n          <h3 className=\"movieCastReviewsTitle\">Additional information</h3>\r\n          <ul className=\"movieCastReviewsList\">\r\n            <li className=\"movieCastReviewsItem\">\r\n              <Link\r\n                to={{\r\n                  pathname: `/movies/${match.params.id}/cast`,\r\n                  state: {\r\n                    from: location.state.from, //передаем дальше сохраненны location страницы результата поиска\r\n                  },\r\n                }}\r\n              >\r\n                Cast\r\n              </Link>\r\n            </li>\r\n            <li className=\"movieCastReviewsItem\">\r\n              <Link\r\n                to={{\r\n                  pathname: `/movies/${match.params.id}/reviews`,\r\n                  state: {\r\n                    from: location.state.from, //передаем дальше сохраненны location страницы результата поиска\r\n                  },\r\n                }}\r\n              >\r\n                Reviews\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <Suspense\r\n          fallback={\r\n            <div className=\"loader\">\r\n              <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n            </div>\r\n          }\r\n        >\r\n          <Route\r\n            path={`/movies/${match.params.id}/cast`}\r\n            render={() => <Cast movieId={match.params.id} />}\r\n          />\r\n          <Route\r\n            path={`/movies/${match.params.id}/reviews`}\r\n            render={() => <Review movieId={match.params.id} />}\r\n          />\r\n        </Suspense>\r\n      </MovieDetailsPageStyled>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}